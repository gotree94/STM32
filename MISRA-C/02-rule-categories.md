# 02. ê·œì¹™ ë¶„ë¥˜ ì²´ê³„

[â† ì´ì „: MISRA-C ì†Œê°œ](01-introduction.md) | [ë©”ì¸ìœ¼ë¡œ](../README.md) | [ë‹¤ìŒ: ì£¼ìš” ê·œì¹™ ìƒì„¸ â†’](03-common-rules.md)

---

## ğŸ“š í•™ìŠµ ëª©í‘œ

ì´ ì¥ì„ ì™„ë£Œí•˜ë©´ ë‹¤ìŒì„ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- Directiveì™€ Ruleì˜ ì°¨ì´ì 
- Mandatory / Required / Advisory ì¹´í…Œê³ ë¦¬
- Decidable / Undecidable ê·œì¹™ êµ¬ë¶„
- ê·œì¹™ ì¬ë¶„ë¥˜ (Re-categorization) ë°©ë²•

---

## 2.1 Directive vs Rule

MISRA-C ê°€ì´ë“œë¼ì¸ì€ **Directive(ì§€ì‹œì‚¬í•­)**ì™€ **Rule(ê·œì¹™)** ë‘ ê°€ì§€ ìœ í˜•ìœ¼ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤.

### ë¹„êµí‘œ

| êµ¬ë¶„ | Directive | Rule |
|------|-----------|------|
| **ì •ì˜** | ì†ŒìŠ¤ ì½”ë“œë§Œìœ¼ë¡œ ì™„ì „íˆ ê²€ì¦í•  ìˆ˜ ì—†ëŠ” ê°€ì´ë“œë¼ì¸ | ì†ŒìŠ¤ ì½”ë“œ ë¶„ì„ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥í•œ ê°€ì´ë“œë¼ì¸ |
| **ê²€ì¦ ë°©ë²•** | ì½”ë“œ + ì„¤ê³„ë¬¸ì„œ + ìš”êµ¬ì‚¬í•­ ê²€í†  í•„ìš” | ì •ì  ë¶„ì„ ë„êµ¬ë¡œ ìë™ ê²€ì¦ ê°€ëŠ¥ |
| **ê°œìˆ˜ (2023)** | 21ê°œ | 201ê°œ |
| **ì˜ˆì‹œ** | Dir 4.1 - ëŸ°íƒ€ì„ ì‹¤íŒ¨ ìµœì†Œí™” | Rule 11.3 - í¬ì¸í„° íƒ€ì… ë³€í™˜ ê¸ˆì§€ |

### Directive ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dir 1.1 (Required)                                             â”‚
â”‚  "Any implementation-defined behaviour on which the output      â”‚
â”‚   of the program depends shall be documented and understood"    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ê²€ì¦ ë°©ë²•:                                                      â”‚
â”‚  - ì‚¬ìš©ëœ ì»´íŒŒì¼ëŸ¬ì˜ implementation-defined ë™ì‘ ëª©ë¡ í™•ì¸        â”‚
â”‚  - í”„ë¡œì íŠ¸ ë¬¸ì„œì— í•´ë‹¹ ë™ì‘ ëª…ì‹œ                                 â”‚
â”‚  - ì½”ë“œ ë¦¬ë·°ë¥¼ í†µí•œ í™•ì¸                                         â”‚
â”‚                                                                 â”‚
â”‚  âš ï¸ ì •ì  ë¶„ì„ ë„êµ¬ë§Œìœ¼ë¡œëŠ” ì™„ì „íˆ ê²€ì¦ ë¶ˆê°€                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Rule ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Rule 10.1 (Required)                                           â”‚
â”‚  "Operands shall not be of an inappropriate essential type"     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ê²€ì¦ ë°©ë²•:                                                      â”‚
â”‚  - ì •ì  ë¶„ì„ ë„êµ¬ê°€ ìë™ìœ¼ë¡œ ê²€ì¶œ ê°€ëŠ¥                            â”‚
â”‚                                                                 â”‚
â”‚  ìœ„ë°˜ ì˜ˆ:                                                        â”‚
â”‚  uint8_t u8 = 10U;                                              â”‚
â”‚  int8_t s8 = -5;                                                â”‚
â”‚  if (u8 + s8 > 0) { }  // âŒ ë¶€í˜¸ í˜¼í•© ì—°ì‚°                      â”‚
â”‚                                                                 â”‚
â”‚  âœ… ì •ì  ë¶„ì„ ë„êµ¬ë¡œ ìë™ ê²€ì¶œ ê°€ëŠ¥                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2.2 ì¹´í…Œê³ ë¦¬: Mandatory / Required / Advisory

ëª¨ë“  ê°€ì´ë“œë¼ì¸ì€ ì„¸ ê°€ì§€ ì¹´í…Œê³ ë¦¬ ì¤‘ í•˜ë‚˜ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤.

### ì¹´í…Œê³ ë¦¬ ì •ì˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì¹´í…Œê³ ë¦¬ ê³„ì¸µ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚   â”‚   MANDATORY     â”‚  ìœ„ë°˜ ì ˆëŒ€ ë¶ˆí—ˆ                            â”‚
â”‚   â”‚   (í•„ìˆ˜)         â”‚  Deviation ë¶ˆê°€                           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚            â”‚                                                    â”‚
â”‚            â–¼                                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚   â”‚   REQUIRED      â”‚  ì›ì¹™ì  ì¤€ìˆ˜                               â”‚
â”‚   â”‚   (ìš”êµ¬)         â”‚  Deviation ê°€ëŠ¥ (ë¬¸ì„œí™” í•„ìˆ˜)              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚            â”‚                                                    â”‚
â”‚            â–¼                                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚   â”‚   ADVISORY      â”‚  ê¶Œê³  ì‚¬í•­                                 â”‚
â”‚   â”‚   (ê¶Œê³ )         â”‚  ì„ íƒì  ì¤€ìˆ˜                               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒì„¸ ì„¤ëª…

| ì¹´í…Œê³ ë¦¬ | ì¤€ìˆ˜ ì˜ë¬´ | Deviation | ë¬¸ì„œí™” |
|----------|----------|-----------|--------|
| **Mandatory** | ë°˜ë“œì‹œ ì¤€ìˆ˜ | ë¶ˆê°€ëŠ¥ | ìœ„ë°˜ ì‹œ ì»´í”Œë¼ì´ì–¸ìŠ¤ ë¶ˆì¸ì • |
| **Required** | ì›ì¹™ ì¤€ìˆ˜ | í—ˆìš© (ìŠ¹ì¸ í•„ìš”) | Deviation Record í•„ìˆ˜ |
| **Advisory** | ê¶Œì¥ | ê³µì‹ Deviation ë¶ˆí•„ìš” | ìœ„ë°˜ ì¶”ì  ê¶Œì¥ |

### ì¹´í…Œê³ ë¦¬ë³„ ê·œì¹™ ìˆ˜ (MISRA C:2023)

```
Mandatory Rules:  16ê°œ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Required Rules:  143ê°œ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Advisory Rules:   42ê°œ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                        0      20      40      60      80     100    120    140
```

---

## 2.3 Mandatory ê·œì¹™ ì˜ˆì‹œ

Mandatory ê·œì¹™ì€ **Undefined Behavior**ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ìœ ë°œí•˜ëŠ” ì½”ë“œë¥¼ ê¸ˆì§€í•©ë‹ˆë‹¤.

### Rule 1.3 (Mandatory)

**"There shall be no occurrence of undefined or critical unspecified behaviour"**

```c
/* âŒ Mandatory ìœ„ë°˜ - Undefined Behavior */

// 1. NULL í¬ì¸í„° ì—­ì°¸ì¡°
int *ptr = NULL;
*ptr = 10;                        // UB: NULL ì—­ì°¸ì¡°

// 2. ë°°ì—´ ë²”ìœ„ ì´ˆê³¼
int arr[10];
arr[20] = 5;                      // UB: ë²”ìœ„ ì´ˆê³¼

// 3. ë¶€í˜¸ ìˆëŠ” ì •ìˆ˜ ì˜¤ë²„í”Œë¡œìš°
int max = INT_MAX;
max = max + 1;                    // UB: ì˜¤ë²„í”Œë¡œìš°

// 4. 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸°
int result = 10 / 0;              // UB: 0 ë‚˜ëˆ„ê¸°

/* âœ… ì•ˆì „í•œ ì½”ë“œ */
int *safe_ptr = &some_variable;
if (safe_ptr != NULL) {
    *safe_ptr = 10;               // OK
}
```

### Rule 21.13 (Mandatory)

**"Any value passed to <ctype.h> functions shall be representable as unsigned char or EOF"**

```c
#include <ctype.h>

/* âŒ Mandatory ìœ„ë°˜ */
char c = -50;
if (isalpha(c)) {                 // ìŒìˆ˜ ê°’ ì „ë‹¬ - UB
    // ...
}

/* âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ */
char c = 'A';
if (isalpha((unsigned char)c)) { // unsigned charë¡œ ìºìŠ¤íŒ…
    // ...
}
```

---

## 2.4 Required ê·œì¹™ ì˜ˆì‹œ

Required ê·œì¹™ì€ **ìœ„í—˜í•˜ê±°ë‚˜ í˜¼ë€ì„ ì¤„ ìˆ˜ ìˆëŠ”** ì½”ë“œ íŒ¨í„´ì„ ê¸ˆì§€í•©ë‹ˆë‹¤.

### Rule 10.3 (Required)

**"The value of an expression shall not be assigned to an object with a narrower essential type"**

```c
/* âŒ Required ìœ„ë°˜ - Narrowing Conversion */
uint32_t u32 = 1000U;
uint8_t u8 = u32;                 // ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥

int32_t s32 = -100;
uint16_t u16 = s32;               // ë¶€í˜¸ ì†ì‹¤

/* âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ - ëª…ì‹œì  ìºìŠ¤íŒ… */
uint32_t u32 = 1000U;
uint8_t u8 = (uint8_t)u32;        // ì˜ë„ ëª…í™•íˆ í‘œí˜„

// ë˜ëŠ” ê°’ ê²€ì¦ í›„ í• ë‹¹
if (u32 <= UINT8_MAX) {
    u8 = (uint8_t)u32;
}
```

### Rule 15.6 (Required)

**"The body of an iteration-statement or a selection-statement shall be a compound-statement"**

```c
/* âŒ Required ìœ„ë°˜ - ë‹¨ì¼ ë¬¸ì¥ */
if (condition)
    do_something();               // ì¤‘ê´„í˜¸ ì—†ìŒ

for (i = 0; i < 10; i++)
    array[i] = 0;                 // ì¤‘ê´„í˜¸ ì—†ìŒ

/* âœ… ì˜¬ë°”ë¥¸ ì½”ë“œ - ë³µí•©ë¬¸ ì‚¬ìš© */
if (condition) {
    do_something();
}

for (i = 0; i < 10; i++) {
    array[i] = 0;
}
```

**ì´ìœ **: ë‚˜ì¤‘ì— ì½”ë“œ ì¶”ê°€ ì‹œ ì‹¤ìˆ˜ ë°©ì§€

```c
/* ìœ„í—˜í•œ ìƒí™© ì˜ˆì‹œ */
if (debug)
    log_message("debug");
    process_data();               // í•­ìƒ ì‹¤í–‰ë¨! (ì˜ë„ì™€ ë‹¤ë¦„)
```

---

## 2.5 Advisory ê·œì¹™ ì˜ˆì‹œ

Advisory ê·œì¹™ì€ **ì½”ë“œ í’ˆì§ˆ í–¥ìƒ**ì„ ìœ„í•œ ê¶Œì¥ì‚¬í•­ì…ë‹ˆë‹¤.

### Rule 15.7 (Advisory)

**"All if...else if constructs shall be terminated with an else statement"**

```c
/* âš ï¸ Advisory ê¶Œê³  ìœ„ë°˜ */
if (x == 1) {
    action1();
} else if (x == 2) {
    action2();
}                                 // else ì—†ìŒ

/* âœ… ê¶Œì¥ ì½”ë“œ */
if (x == 1) {
    action1();
} else if (x == 2) {
    action2();
} else {
    /* ì˜ˆìƒì¹˜ ëª»í•œ ê²½ìš° ì²˜ë¦¬ */
    error_handler();
}
```

### Rule 2.5 (Advisory)

**"A project should not contain unused macro declarations"**

```c
/* âš ï¸ Advisory ê¶Œê³  ìœ„ë°˜ */
#define UNUSED_MACRO 100          // ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë§¤í¬ë¡œ
#define BUFFER_SIZE 256           // ì‹¤ì œ ì‚¬ìš©ë¨

/* âœ… ê¶Œì¥: ë¶ˆí•„ìš”í•œ ë§¤í¬ë¡œ ì œê±° */
#define BUFFER_SIZE 256
```

---

## 2.6 Decidable vs Undecidable

### ì •ì˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ê²°ì • ê°€ëŠ¥ì„± ë¶„ë¥˜                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Decidable (ê²°ì • ê°€ëŠ¥)                                          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                           â”‚
â”‚  ì •ì  ë¶„ì„ ë„êµ¬ê°€ 100% ì •í™•í•˜ê²Œ íŒë‹¨ ê°€ëŠ¥                         â”‚
â”‚  False Positive/Negative ì—†ì´ ì™„ì „ ê²€ì¶œ                          â”‚
â”‚                                                                 â”‚
â”‚  ì˜ˆ: Rule 8.1 - í•¨ìˆ˜ í”„ë¡œí† íƒ€ì… ëª…ì‹œ                             â”‚
â”‚      "Types shall be explicitly specified"                       â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Undecidable (ê²°ì • ë¶ˆê°€)                                        â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                          â”‚
â”‚  ì •ì  ë¶„ì„ë§Œìœ¼ë¡œëŠ” ì™„ì „í•œ íŒë‹¨ ë¶ˆê°€ëŠ¥                             â”‚
â”‚  ëŸ°íƒ€ì„ ì •ë³´ ë˜ëŠ” ì „ì²´ ì‹œìŠ¤í…œ ë¶„ì„ í•„ìš”                           â”‚
â”‚                                                                 â”‚
â”‚  ì˜ˆ: Rule 1.3 - Undefined Behavior ê¸ˆì§€                         â”‚
â”‚      "There shall be no occurrence of undefined behaviour"       â”‚
â”‚      â†’ ëª¨ë“  ê²½ë¡œì˜ ëª¨ë“  ìƒí™© ë¶„ì„ ë¶ˆê°€ëŠ¥                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Undecidable ê·œì¹™ì˜ ê²€ì¦

```c
/* Rule 18.1 (Required, Undecidable)
   "A pointer resulting from arithmetic on a pointer operand 
    shall address an element of the same array" */

void process(int *arr, int size, int index) {
    // ì •ì  ë¶„ì„ ì‹œì ì— index ê°’ì„ ì•Œ ìˆ˜ ì—†ìŒ
    int *ptr = &arr[index];       // index < size ë³´ì¥ í•„ìš”
    *ptr = 0;
}

/* 
 * Undecidable ì´ìœ :
 * - index ê°’ì´ ëŸ°íƒ€ì„ì— ê²°ì •ë¨
 * - ëª¨ë“  í˜¸ì¶œ ê²½ë¡œ ë¶„ì„ ë¶ˆê°€ëŠ¥
 * - ë„êµ¬ëŠ” "Possible Violation" ë³´ê³ 
 */
```

### ë„êµ¬ì˜ ë³´ê³  ë°©ì‹

| ë¶„ì„ ê²°ê³¼ | ì˜ë¯¸ |
|----------|------|
| **Definite Violation** | í™•ì‹¤í•œ ìœ„ë°˜ (ìˆ˜ì • í•„ìˆ˜) |
| **Possible Violation** | ì ì¬ì  ìœ„ë°˜ (ê²€í†  í•„ìš”) |
| **No Violation** | ìœ„ë°˜ ì—†ìŒ |
| **Not Checked** | ê²€ì‚¬ ë¶ˆê°€ |

---

## 2.7 ê·œì¹™ ì¬ë¶„ë¥˜ (Re-categorization)

### ì¬ë¶„ë¥˜ ê·œì¹™

í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ **ê·œì¹™ ì¹´í…Œê³ ë¦¬ë¥¼ ìƒí–¥**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í—ˆìš©ë˜ëŠ” ì¬ë¶„ë¥˜                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Advisory  â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  Required  â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  Mandatory       â”‚
â”‚            ìƒí–¥ ê°€ëŠ¥              ìƒí–¥ ê°€ëŠ¥                   â”‚
â”‚                                                              â”‚
â”‚  Advisory  â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  Disapplied                            â”‚
â”‚            í•˜í–¥ ê°€ëŠ¥ (Advisoryë§Œ)                             â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  âŒ ë¶ˆí—ˆ:                                                    â”‚
â”‚  - Mandatory â†’ Required í•˜í–¥                                 â”‚
â”‚  - Required â†’ Advisory í•˜í–¥                                  â”‚
â”‚  - Mandatory â†’ Advisory í•˜í–¥                                 â”‚
â”‚  - Mandatory â†’ Disapplied                                    â”‚
â”‚  - Required â†’ Disapplied                                     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Guideline Re-categorization Plan (GRP)

```
# GRP ì˜ˆì‹œ íŒŒì¼ (misra_grp.txt)
# í”„ë¡œì íŠ¸ë³„ ê·œì¹™ ì¬ë¶„ë¥˜ ì •ì˜

# Advisory â†’ Required ìƒí–¥
Rule 2.5 = Required    # ë¯¸ì‚¬ìš© ë§¤í¬ë¡œ ê²€ì¶œ ê°•í™”
Rule 15.7 = Required   # else ë¬¸ í•„ìˆ˜í™”

# Advisory â†’ Disapplied (ì ìš© ì œì™¸)
Rule 3.1 = Disapplied  # ì£¼ì„ ë‚´ // í—ˆìš©
Rule 21.6 = Disapplied # í‘œì¤€ I/O ì‚¬ìš© í—ˆìš© (í…ŒìŠ¤íŠ¸ ì½”ë“œ)

# Required â†’ Mandatory ìƒí–¥
Rule 10.3 = Mandatory  # Narrowing ë³€í™˜ ì ˆëŒ€ ê¸ˆì§€
```

---

## 2.8 ê·œì¹™ ê·¸ë£¹ ê°œìš”

MISRA C:2023ì˜ ê·œì¹™ì€ ì£¼ì œë³„ë¡œ ê·¸ë£¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### ê·œì¹™ ê·¸ë£¹ ëª©ë¡

| ê·¸ë£¹ | ì£¼ì œ | ê·œì¹™ ìˆ˜ |
|------|------|---------|
| 1 | Standard C Environment | 4 |
| 2 | Unused Code | 7 |
| 3 | Comments | 2 |
| 4 | Character Sets and Lexical Conventions | 2 |
| 5 | Identifiers | 9 |
| 6 | Types | 2 |
| 7 | Literals and Constants | 4 |
| 8 | Declarations and Definitions | 14 |
| 9 | Initialization | 5 |
| 10 | Essential Type Model | 8 |
| 11 | Pointer Type Conversions | 9 |
| 12 | Expressions | 5 |
| 13 | Side Effects | 6 |
| 14 | Control Statement Expressions | 4 |
| 15 | Control Flow | 8 |
| 16 | Switch Statements | 7 |
| 17 | Functions | 8 |
| 18 | Pointers and Arrays | 8 |
| 19 | Overlapping Storage | 2 |
| 20 | Preprocessing Directives | 14 |
| 21 | Standard Libraries | 21 |
| 22 | Resources | 20 |
| 23 | (Reserved) | - |

### Directive ê·¸ë£¹ ëª©ë¡

| ê·¸ë£¹ | ì£¼ì œ | Directive ìˆ˜ |
|------|------|-------------|
| 1 | Implementation | 1 |
| 2 | Compilation | 1 |
| 3 | (Reserved) | - |
| 4 | Code Design | 14 |
| 5 | (Reserved) | - |
| ... | | |

---

## ğŸ“ í•™ìŠµ í™•ì¸ ë¬¸ì œ

### Q1. Directiveì™€ Ruleì˜ ì£¼ìš” ì°¨ì´ì ì€?

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

**Rule**: ì†ŒìŠ¤ ì½”ë“œ ë¶„ì„ë§Œìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥
**Directive**: ì†ŒìŠ¤ ì½”ë“œ ì™¸ì— ì„¤ê³„ ë¬¸ì„œ, ìš”êµ¬ì‚¬í•­ ë“± ì¶”ê°€ ì •ë³´ í•„ìš”

ì˜ˆì‹œ:
- Rule 10.1: ë¶€í˜¸ í˜¼í•© ì—°ì‚° ê²€ì¶œ â†’ ì •ì  ë¶„ì„ ë„êµ¬ë¡œ ìë™ ê²€ì¶œ
- Dir 1.1: Implementation-defined ë™ì‘ ë¬¸ì„œí™” â†’ ë¬¸ì„œ ê²€í†  í•„ìš”

</details>

### Q2. Required ê·œì¹™ ìœ„ë°˜ ì‹œ MISRA ì»´í”Œë¼ì´ì–¸ìŠ¤ë¥¼ ìœ ì§€í•˜ë ¤ë©´?

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

**Deviation Record ì‘ì„±** í•„ìš”

í¬í•¨ ë‚´ìš©:
1. ìœ„ë°˜ ê·œì¹™ ë²ˆí˜¸
2. ìœ„ë°˜ ìœ„ì¹˜ (íŒŒì¼, ë¼ì¸)
3. ìœ„ë°˜ ì‚¬ìœ 
4. ìœ„í—˜ í‰ê°€
5. ìŠ¹ì¸ì

</details>

### Q3. ë‹¤ìŒ ì¤‘ í—ˆìš©ë˜ì§€ ì•ŠëŠ” ì¬ë¶„ë¥˜ëŠ”?

1. Advisory â†’ Required
2. Required â†’ Mandatory
3. Advisory â†’ Disapplied
4. Mandatory â†’ Required

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

**4ë²ˆ: Mandatory â†’ Required**

Mandatory ê·œì¹™ì€ Undefined Behaviorë¥¼ ë°©ì§€í•˜ë¯€ë¡œ í•˜í–¥ ì¬ë¶„ë¥˜ê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

</details>

### Q4. Undecidable ê·œì¹™ì— ëŒ€í•´ ì •ì  ë¶„ì„ ë„êµ¬ê°€ ë³´ê³ í•  ìˆ˜ ìˆëŠ” ê²°ê³¼ëŠ”?

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

- **Definite Violation**: í™•ì‹¤í•œ ìœ„ë°˜
- **Possible Violation**: ì ì¬ì  ìœ„ë°˜ (ì¶”ê°€ ê²€í†  í•„ìš”)
- **No Violation**: ìœ„ë°˜ ì—†ìŒ

Undecidable ê·œì¹™ì€ "Possible Violation"ìœ¼ë¡œ ë³´ê³ ë  ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë©°, ê°œë°œìì˜ ìˆ˜ë™ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.

</details>

---

## ğŸ“š ë‹¤ìŒ í•™ìŠµ

ë‹¤ìŒ ì¥ì—ì„œëŠ” ìì£¼ ë°œìƒí•˜ëŠ” MISRA-C ê·œì¹™ ìœ„ë°˜ê³¼ ì˜¬ë°”ë¥¸ ì½”ë“œ ì‘ì„±ë²•ì„ í•™ìŠµí•©ë‹ˆë‹¤:
- Essential Type Model
- Pointer ì—°ì‚° ê·œì¹™
- ì œì–´ë¬¸ ê·œì¹™
- í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

[ë‹¤ìŒ: 03. ì£¼ìš” ê·œì¹™ ìƒì„¸ â†’](03-common-rules.md)

---

## ğŸ”— ì°¸ê³  ìë£Œ

- [MISRA Compliance:2020 (PDF)](https://misra.org.uk/app/uploads/2021/06/MISRA-Compliance-2020.pdf)
- [MISRA C:2023 Guideline Structure](https://misra.org.uk/misra-c2023-released/)
