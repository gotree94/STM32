# Digilent_Arty_A7

---

## 1. 커리큘럼 (8주 16강)
### 1-2주: DDR 메모리 기초 이론 및 Verilog 설계 기초
### 3-4주: 기본 메모리 컨트롤러 구현 (초기화, 명령어 스케줄러)
### 5-6주: 데이터 패스 및 사용자 인터페이스 구현
### 7-8주: 통합, 디버깅, 성능 최적화

## 2. 핵심 Verilog 모듈
### ddr3l_controller: 최상위 컨트롤러
### ddr3_init_controller: DDR3L 초기화 시퀀스 관리
### ddr3_cmd_scheduler: 뱅크 관리 및 명령어 스케줄링

## 3. 포괄적인 테스트벤치
### 초기화 테스트
### 기본 읽기/쓰기 테스트
### 버스트 및 랜덤 액세스 테스트
### Walking ones/zeros 패턴 테스트
### 성능 측정 및 분석

## 4. 프로젝트 설정 파일
### Arty A7 전용 제약 조건 파일 (XDC)
### 자동화된 빌드 스크립트 (Makefile, TCL)
### 완전한 프로젝트 구조 및 문서

## 🎯 교육 목표 달성 요소
### 이론적 기초
  - DDR3L 타이밍 파라미터와 동작 원리
  - 메모리 컨트롤러 아키텍처 설계
  - FPGA 구현 시 고려사항
### 실습 중심 학습
  - 단계별 모듈 구현
  - 실제 하드웨어 검증
  - 성능 측정 및 최적화
### 실무 활용 능력
  - 산업 표준 개발 환경 사용
  - 체계적인 테스트 방법론
  - 디버깅 및 문제 해결 기법
### 🔧 실습 환경 구성
  - 필수 장비
    * Digilent Arty A7-35T/100T 보드
    * Xilinx Vivado (WebPack 버전 가능)
    * USB 케이블 및 개발 PC
  - 권장 도구
    * 로직 분석기 (고급 디버깅)
    * 오실로스코프 (신호 품질 분석)

# DDR 메모리 컨트롤러 개발 강의 커리큘럼
## Digilent Arty A7 기반 Verilog 실습

---

### 강의 개요
**대상**: FPGA 및 Verilog 기초 지식을 갖춘 중급자  
**기간**: 8주 (주 2회, 총 16강)  
**목표**: Arty A7의 DDR3L 메모리를 제어하는 완전한 메모리 컨트롤러 설계 및 구현

---

## 1주차: DDR 메모리 기초 이론

### 1강: DDR 메모리 개요 및 Arty A7 하드웨어 분석
**학습 목표**
- DDR3L 메모리의 동작 원리 이해
- Arty A7 보드의 DDR3L 구성 분석 (MT41K128M16JT-125)
- 메모리 컨트롤러의 역할과 필요성

**이론 내용**
- DDR3L vs DDR3 vs DDR4 비교
- 메모리 타이밍 파라미터 (tCL, tRCD, tRP, tRAS 등)
- Burst 모드와 Prefetch 개념
- Bank, Row, Column 주소 구조

### 2강: DDR 메모리 명령어 및 상태 머신
**학습 목표**
- DDR3L 명령어 세트 이해
- 메모리 초기화 시퀀스 학습
- 상태 머신 설계 원리

**이론 내용**
- 기본 명령어: ACTIVATE, READ, WRITE, PRECHARGE
- 리프레시 명령어와 Self-refresh 모드
- Mode Register Set (MRS) 명령어
- 파워업 초기화 시퀀스

---

## 2주차: Verilog 설계 기초

### 3강: 메모리 인터페이스 설계
**학습 목표**
- DDR3L 물리적 인터페이스 신호 분석
- 클럭 도메인과 동기화 기법
- I/O 표준 및 전압 레벨

**실습 내용**
- Arty A7 제약 파일 (XDC) 분석
- 기본 신호 정의 및 포트 매핑
- 클럭 생성 및 관리

### 4강: 타이밍 제어 및 캘리브레이션
**학습 목표**
- Setup/Hold 타이밍 요구사항
- DQS 스트로브 신호 처리
- Write/Read 레벨링 개념

**실습 내용**
- 타이밍 파라미터 계산기 작성
- 지연 체인 (Delay Chain) 구현
- 캘리브레이션 알고리즘 설계

---

## 3주차: 기본 메모리 컨트롤러 구현

### 5강: 초기화 및 설정 모듈
**학습 목표**
- DDR3L 초기화 시퀀스 구현
- Mode Register 설정
- ZQ 캘리브레이션

**실습 내용**
```verilog
module ddr3_init_controller (
    input clk,
    input reset,
    output reg init_done,
    output reg [2:0] cmd,
    output reg [14:0] addr,
    output reg [2:0] ba
);
```

### 6강: 명령어 스케줄러 설계
**학습 목표**
- 명령어 큐 관리
- Bank 충돌 회피
- 우선순위 기반 스케줄링

**실습 내용**
- FIFO 기반 명령어 큐 구현
- Round-robin 스케줄러
- 타이밍 제약 체크 로직

---

## 4주차: 데이터 패스 구현

### 7강: Write 데이터 패스
**학습 목표**
- Write 버퍼 설계
- DQS 생성 및 정렬
- Write 레벨링 구현

**실습 내용**
- Write FIFO 구현
- Burst 데이터 생성
- DQS와 DQ 신호 정렬

### 8강: Read 데이터 패스
**학습 목표**
- Read 버퍼 설계
- DQS 캡처 및 데이터 래칭
- Read 레벨링 구현

**실습 내용**
- Read FIFO 구현
- 데이터 캡처 로직
- 패리티 체크 (선택사항)

---

## 5주차: 리프레시 및 최적화

### 9강: 리프레시 컨트롤러
**학습 목표**
- Auto-refresh 타이밍 계산
- Distributed refresh vs Burst refresh
- 온도 보상 리프레시

**실습 내용**
- 리프레시 카운터 구현
- 리프레시 스케줄링
- 온도 센서 인터페이스

### 10강: 파워 관리 및 최적화
**학습 목표**
- 파워다운 모드 구현
- Self-refresh 모드
- 성능 최적화 기법

**실습 내용**
- 파워 상태 머신
- 아이들 타임 검출
- Bank 인터리빙 최적화

---

## 6주차: 사용자 인터페이스 및 AXI 연동

### 11강: 사용자 인터페이스 설계
**학습 목표**
- 간단한 메모리 인터페이스 설계
- 주소 변환 (Row/Column/Bank 매핑)
- 버스트 길이 제어

**실습 내용**
- 사용자 명령어 인터페이스
- 주소 디코더 구현
- 응답 관리 시스템

### 12강: AXI4 인터페이스 연동
**학습 목표**
- AXI4 프로토콜 기초
- AXI to DDR 브리지 설계
- Outstanding 트랜잭션 관리

**실습 내용**
- AXI4 슬레이브 인터페이스
- 주소/데이터 채널 관리
- 응답 채널 구현

---

## 7주차: 통합 및 디버깅

### 13강: 전체 시스템 통합
**학습 목표**
- 모든 모듈 통합
- 클럭 도메인 크로싱 처리
- 리셋 시퀀스 관리

**실습 내용**
- 탑 레벨 모듈 구현
- CDC (Clock Domain Crossing) 처리
- 전체 시스템 시뮬레이션

### 14강: 디버깅 및 검증 기법
**학습 목표**
- ChipScope/ILA를 이용한 실시간 디버깅
- 메모리 테스트 패턴 생성
- 에러 검출 및 복구

**실습 내용**
- 내장 로직 분석기 설정
- Walking 1/0 테스트
- PRBS 패턴 생성기

---

## 8주차: 성능 분석 및 고급 기능

### 15강: 성능 측정 및 최적화
**학습 목표**
- 대역폭 측정 기법
- 지연시간 분석
- 병목 지점 식별

**실습 내용**
- 성능 카운터 구현
- 트래픽 생성기 설계
- 벤치마크 테스트

### 16강: 고급 기능 및 향후 발전 방향
**학습 목표**
- ECC (Error Correcting Code) 구현
- ODT (On-Die Termination) 제어
- DDR4, LPDDR로의 확장

**실습 내용**
- 간단한 ECC 인코더/디코더
- ODT 타이밍 제어
- 차세대 메모리 기술 개요

---

## 평가 방법
1. **중간고사 (30%)**: 이론 및 기본 모듈 구현
2. **기말고사 (40%)**: 전체 시스템 통합 프로젝트
3. **과제 및 실습 (30%)**: 주간 과제 및 실습 보고서

## 필요 장비 및 소프트웨어
- **하드웨어**: Digilent Arty A7-35T 또는 A7-100T
- **소프트웨어**: Xilinx Vivado (WebPack 버전 가능)
- **시뮬레이터**: ModelSim 또는 Vivado Simulator
- **기타**: 로직 분석기 (선택사항)

## 참고 자료
1. Xilinx UG586: 7시리즈 메모리 인터페이스 솔루션
2. JEDEC JESD79-3F: DDR3 SDRAM 표준
3. Digilent Arty A7 Reference Manual
4. "Digital Design and Computer Architecture" - Harris & Harris
