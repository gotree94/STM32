# μ¶©κ²© μ„Όμ„ λ¨λ“ (KY-031 Knock/Shock Sensor)

NUCLEO-F103RB λ³΄λ“λ¥Ό μ΄μ©ν• μ¶©κ²© μ„Όμ„ λ¨λ“ ν…μ¤νΈ ν”„λ΅μ νΈμ…λ‹λ‹¤.

## π“‹ κ°μ”

μ¶©κ²© μ„Όμ„(λ…Έν¬ μ„Όμ„)λ” μ§„λ™μ΄λ‚ μ¶©κ²©μ„ κ°μ§€ν•λ” μ„Όμ„μ…λ‹λ‹¤. λ‚΄λ¶€μ— μ¤ν”„λ§ ν•νƒμ λ„μ²΄κ°€ μμ–΄ μ¶©κ²©μ„ λ°›μΌλ©΄ μ ‘μ μ΄ μκ°„μ μΌλ΅ λ‹«νκ±°λ‚ μ—΄λ¦½λ‹λ‹¤. λ…Έν¬ κ°μ§€, μ§„λ™ κ°μ§€, λ„λ‚ λ°©μ§€ λ“±μ— ν™μ©λ©λ‹λ‹¤.

## π”§ ν•λ“μ›¨μ–΄ κµ¬μ„±

### ν•„μ” λ¶€ν’
| λ¶€ν’ | μλ‰ |
|------|------|
| NUCLEO-F103RB | 1 |
| μ¶©κ²© μ„Όμ„ λ¨λ“ (KY-031) | 1 |
| μ νΌ μ™€μ΄μ–΄ | 3 |

### ν•€ μ—°κ²°

| λ¨λ“ ν•€ | NUCLEO ν•€ | μ„¤λ… |
|---------|-----------|------|
| VCC | 3.3V / 5V | μ „μ› |
| GND | GND | μ ‘μ§€ |
| Signal | PA0 | λ””μ§€ν„Έ μ¶λ ¥ |

### νλ΅λ„

```
NUCLEO-F103RB            μ¶©κ²© μ„Όμ„ λ¨λ“
    β”β”€β”€β”€β”€β”€β”               β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
    β”‚ 3.3Vβ”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤VCC      β”‚
    β”‚     β”‚               β”‚  β΅π’¥   β”‚ β† μ¶©κ²© κ°μ§€
    β”‚  GNDβ”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤GND      β”‚
    β”‚     β”‚               β”‚         β”‚
    β”‚  PA0β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤Signal   β”‚
    β””β”€β”€β”€β”€β”€β”               β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## π’» μ†ν”„νΈμ›¨μ–΄ μ„¤μ •

### Arduino IDE μ„¤μ •
1. **λ³΄λ“ λ§¤λ‹μ €**: STM32 MCU based boards μ„¤μΉ
2. **λ³΄λ“ μ„ νƒ**: Nucleo-64 β†’ Nucleo F103RB
3. **μ‹λ¦¬μ–Ό ν¬νΈ**: ν•΄λ‹Ή COM ν¬νΈ μ„ νƒ

### λΌμ΄λΈλ¬λ¦¬
- κΈ°λ³Έ λΌμ΄λΈλ¬λ¦¬λ§ μ‚¬μ© (μ¶”κ°€ μ„¤μΉ λ¶ν•„μ”)

## π“ λ™μ‘ μ„¤λ…

### κ°μ§€ μ›λ¦¬
1. μ„Όμ„ λ‚΄λ¶€μ— μ¤ν”„λ§ ν•νƒμ λ„μ²΄ μ΅΄μ¬
2. μ¶©κ²©/μ§„λ™ λ°μƒ μ‹ μ¤ν”„λ§μ΄ ν”λ“¤λ¦Ό
3. μ ‘μ μ΄ μκ°„μ μΌλ΅ λ‹«νκ±°λ‚ μ—΄λ¦Ό
4. λ””μ§€ν„Έ μ‹ νΈλ΅ μ¶©κ²© κ°μ§€

### κΈ°λ¥

| κΈ°λ¥ | μ„¤λ… |
|------|------|
| μ¶©κ²© κ°μ§€ | μ¶©κ²© λ°μƒ μ‹ μ¦‰μ‹ κ°μ§€ λ° μΉ΄μ΄νΈ |
| κ°•λ„ μ¶”μ • | μ—°μ† μ¶©κ²© νμλ΅ κ°•λ„ μ¶”μ • |
| κ²½λ³΄ λ¨λ“ | κ°•ν• μ¶©κ²© μ‹ κ²½λ³΄ λ°λ™ |
| μΈν„°λ½νΈ | λΉ λ¥Έ λ°μ‘μ„ μ„ν• μΈν„°λ½νΈ μ‚¬μ© |

### μ‹λ¦¬μ–Ό λ…λ Ή

| λ…λ Ή | κΈ°λ¥ |
|------|------|
| a | κ²½λ³΄ λ¨λ“ ON/OFF ν† κΈ€ |
| r | μΉ΄μ΄ν„° λ¦¬μ…‹ |
| s | ν„μ¬ μƒνƒ μ¶λ ¥ |

## π–¥οΈ μ‹λ¦¬μ–Ό μ¶λ ¥ μμ‹

```
================================
μ¶©κ²© μ„Όμ„ λ¨λ“ ν…μ¤νΈ
NUCLEO-F103RB
================================

λ…λ Ήμ–΄:
  a: κ²½λ³΄ λ¨λ“ ON/OFF ν† κΈ€
  r: μΉ΄μ΄ν„° λ¦¬μ…‹
  s: μƒνƒ μ¶λ ¥

μ„Όμ„λ¥Ό λ‘λ“λ¦¬κ±°λ‚ ν”λ“¤μ–΄λ³΄μ„Έμ”!

[μ¶©κ²© κ°μ§€] #1 | κ°•λ„: μ•½ν•¨ (μ—°μ† 1ν)
[μ¶©κ²© κ°μ§€] #2 | κ°•λ„: μ¤‘κ°„ (μ—°μ† 2ν)
[μ¶©κ²© κ°μ§€] #3 | κ°•λ„: κ°•ν•¨ (μ—°μ† 3ν)
[μ¶©κ²© κ°μ§€] #4 | κ°•λ„: κ°•ν•¨ (μ—°μ† 4ν)
[μ¶©κ²© κ°μ§€] #5 | κ°•λ„: λ§¤μ° κ°•ν•¨ (μ—°μ† 5ν)

[μ„¤μ •] κ²½λ³΄ λ¨λ“: ON
        κ°•ν• μ¶©κ²©(3ν μ—°μ†) κ°μ§€ μ‹ κ²½λ³΄κ°€ λ°λ™λ©λ‹λ‹¤.

π¨ [κ²½λ³΄] κ°•ν• μ¶©κ²©μ΄ κ°μ§€λμ—μµλ‹λ‹¤! π¨

[κ²½λ³΄] κ²½λ³΄ μΆ…λ£
```

## π“ μ¶©κ²© κ°•λ„ νμ •

| μ—°μ† μ¶©κ²© νμ | κ°•λ„ νμ • |
|---------------|-----------|
| 1ν | μ•½ν•¨ |
| 2ν | μ¤‘κ°„ |
| 3-4ν | κ°•ν•¨ |
| 5ν μ΄μƒ | λ§¤μ° κ°•ν•¨ |

μ—°μ† μ¶©κ²©μ€ 500ms μλ„μ° λ‚΄μ—μ„ λ°μƒν• μ¶©κ²©μ„ μΉ΄μ΄νΈν•©λ‹λ‹¤.

## π”§ νλΌλ―Έν„° μ΅°μ •

| νλΌλ―Έν„° | κΈ°λ³Έκ°’ | μ„¤λ… |
|----------|--------|------|
| `debounceTime` | 100ms | λ””λ°”μ΄μ‹± μ‹κ°„ |
| `rapidShockWindow` | 500ms | μ—°μ† μ¶©κ²© νμ • μλ„μ° |
| `alarmDuration` | 3000ms | κ²½λ³΄ μ§€μ† μ‹κ°„ |

## π“ μ„Όμ„ λ™μ‘ λ‹¤μ΄μ–΄κ·Έλ¨

```
μ¶©κ²© λ°μƒ:
μ‹ νΈ:   β–β–β–β–β–β–β–β–β–β–β–β–β–ƒβ–ƒβ–β–β–β–β–ƒβ–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–
        μ •μƒ      β†‘ β†‘ β†‘    μ¶©κ²© ν›„ μ•μ •
              μ¶©κ²© κ°μ§€
                 
νƒ€μ΄λ°:
        |β†100msβ†’|  β† λ””λ°”μ΄μ‹± κΈ°κ°„ (λ¬΄μ‹)
```

## π“ μ‘μ© λ¶„μ•Ό

- λ„λ‚ λ°©μ§€ μ‹μ¤ν…
- λ…Έν¬ κ°μ§€ (μ¤λ§νΈ λ„μ–΄λ½)
- μ§„λ™ λ¨λ‹ν„°λ§
- μ¶©κ²© κ°μ§€ λ΅κΉ…
- λ“λΌ/νƒ€μ•…κΈ° μΈν„°νμ΄μ¤
- μ§€μ§„ κ°μ§€ (κ°„μ΄)

## β οΈ μ£Όμμ‚¬ν•­

- λ§¤μ° λ―Όκ°ν•λ―€λ΅ κ°€λ²Όμ΄ μ§„λ™λ„ κ°μ§€λ  μ μμ
- λ””λ°”μ΄μ‹± μ‹κ°„ μ΅°μ λ΅ λ―Όκ°λ„ μ΅°μ • κ°€λ¥
- μΈν„°λ½νΈ μ‚¬μ© μ‹ ISR λ‚΄μ—μ„λ” μµμ†ν•μ μ‘μ—…λ§ μν–‰
- κΈ΄ μΌ€μ΄λΈ” μ‚¬μ© μ‹ λ…Έμ΄μ¦μ— μ·¨μ•½ν•  μ μμ

## π”§ μΈν„°λ½νΈ vs ν΄λ§

μ΄ μ½”λ“λ” **ν•μ΄λΈλ¦¬λ“ λ°©μ‹**μ„ μ‚¬μ©ν•©λ‹λ‹¤.

| λ°©μ‹ | μ¥μ  | λ‹¨μ  |
|------|------|------|
| μΈν„°λ½νΈ | λΉ λ¥Έ λ°μ‘, CPU ν¨μ¨μ  | λ…Έμ΄μ¦μ— λ―Όκ° |
| ν΄λ§ | μ•μ •μ , λ””λ°”μ΄μ‹± μ©μ΄ | λλ¦° λ°μ‘, CPU μ‚¬μ© |
| ν•μ΄λΈλ¦¬λ“ | μ–‘μ½ μ¥μ  | μ•½κ°„ λ³µμ΅ |

## π” νΈλ¬λΈ”μν…

| μ¦μƒ | ν•΄κ²° λ°©λ²• |
|------|----------|
| κ°μ§€κ°€ μ• λ¨ | λ°°μ„  ν™•μΈ, μ„Όμ„ κ°λ„ ν™•μΈ |
| λ„λ¬΄ λ―Όκ°ν•¨ | debounceTime μ¦κ°€ |
| ν• λ²μ— μ—¬λ¬ λ² κ°μ§€ | debounceTime μ¦κ°€ |
| κ°•λ„ νμ •μ΄ λ¶€μ •ν™• | rapidShockWindow μ΅°μ • |

## π“„ λΌμ΄μ„ μ¤

MIT License
